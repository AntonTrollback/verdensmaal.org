/*Â @define Goal */

@import "../base/global";

.Goal {
  display: flex;
  align-items: stretch;
  width: 100%;
  position: relative;
  z-index: 0;
  transition: background-color 150ms var(--ease-out);
  background: var(--current-background);
  color: #fff;
}

.Goal::before {
  content: "";
  display: block;
  width: 0;
  height: 0;
}

/**
 * 1. Square ratio
 * 2. Ratio of 2/3 (landscape), accounting for grid gutter
 * 3. Ratio of 3/2 (portrait), accounting for grid gutter
 */

.Goal--square::before {
  padding-top: 100%; /* 1 */
}

.Goal--landscape::before {
  padding-top: calc(((100% - var(--gutter, 0px) * 2) / 3) * 2 + var(--gutter, 0px)); /* 2 */
}

.Goal--portrait::before {
  padding-top: calc((((100% - var(--gutter, 0px)) / 2) * 3) + var(--gutter, 0px) * 2); /* 3 */
}

/**
 * Achieve equivalent of 8% square width
 */

.Goal--square .Goal-container {
  --space: 8%;
}

.Goal--landscape .Goal-container {
  --space: calc(((100% - var(--gutter, 0px) * 2) / 3) * 0.08);
}

.Goal--portrait .Goal-container {
  --space: calc(((100% - var(--gutter, 0px)) / 2) * 0.08);
}

.Goal--fullscreen {
  width: 100vw;
  height: 100vh;
}

.Goal::after {
  content: "";
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  z-index: -1;
  opacity: 0;
  background: var(--current-background);
  transition: opacity 180ms var(--ease-out);
}

.Goal--fullscreen::after {
  content: none;
}

.Goal:hover::after {
  opacity: 1;
}

.Goal--blank { --current-background: rgba(var(--color-gray-light), 0.6); }
.Goal--blank::after { --current-background: rgba(var(--color-gray-light), 1); }

.Goal--1 { --current-background: rgb(var(--color-goal-1)); }
.Goal--1::after { --current-background: rgba(var(--color-goal-1-shaded), 0.13); }
.Goal--2 { --current-background: rgb(var(--color-goal-2)); }
.Goal--2::after { --current-background: rgba(var(--color-goal-2-shaded), 0.13); }
.Goal--3 { --current-background: rgb(var(--color-goal-3)); }
.Goal--3::after { --current-background: rgba(var(--color-goal-3-shaded), 0.13); }
.Goal--4 { --current-background: rgb(var(--color-goal-4)); }
.Goal--4::after { --current-background: rgba(var(--color-goal-4-shaded), 0.13); }
.Goal--5 { --current-background: rgb(var(--color-goal-5)); }
.Goal--5::after { --current-background: rgba(var(--color-goal-5-shaded), 0.13); }
.Goal--6 { --current-background: rgb(var(--color-goal-6)); }
.Goal--6::after { --current-background: rgba(var(--color-goal-6-shaded), 0.13); }
.Goal--7 { --current-background: rgb(var(--color-goal-7)); }
.Goal--7::after { --current-background: rgba(var(--color-goal-7-shaded), 0.13); }
.Goal--8 { --current-background: rgb(var(--color-goal-8)); }
.Goal--8::after { --current-background: rgba(var(--color-goal-8-shaded), 0.13); }
.Goal--9 { --current-background: rgb(var(--color-goal-9)); }
.Goal--9::after { --current-background: rgba(var(--color-goal-9-shaded), 0.13); }
.Goal--10 { --current-background: rgb(var(--color-goal-10)); }
.Goal--10::after { --current-background: rgba(var(--color-goal-10-shaded), 0.13); }
.Goal--11 { --current-background: rgb(var(--color-goal-11)); }
.Goal--11::after { --current-background: rgba(var(--color-goal-11-shaded), 0.13); }
.Goal--12 { --current-background: rgb(var(--color-goal-12)); }
.Goal--12::after { --current-background: rgba(var(--color-goal-12-shaded), 0.13); }
.Goal--13 { --current-background: rgb(var(--color-goal-13)); }
.Goal--13::after { --current-background: rgba(var(--color-goal-13-shaded), 0.13); }
.Goal--14 { --current-background: rgb(var(--color-goal-14)); }
.Goal--14::after { --current-background: rgba(var(--color-goal-14-shaded), 0.13); }
.Goal--15 { --current-background: rgb(var(--color-goal-15)); }
.Goal--15::after { --current-background: rgba(var(--color-goal-15-shaded), 0.13); }
.Goal--16 { --current-background: rgb(var(--color-goal-16)); }
.Goal--16::after { --current-background: rgba(var(--color-goal-16-shaded), 0.13); }
.Goal--17 { --current-background: rgb(var(--color-goal-17)); }
.Goal--17::after { --current-background: rgba(var(--color-goal-17-shaded), 0.13); }

/**
 * Inner container
 */

.Goal-container {
  flex: 0 0 100%;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: space-between;
  padding: var(--space);
}

/**
 * Multi purpose goal square cell
 */

.Goal-cell {
  display: flex;
  align-items: stretch;
  align-self: flex-start;
}

.Goal-cell::before {
  content: "";
  display: block;
  width: 0;
  height: 0;
  padding-top: 100%;
}

.Goal--square .Goal-cell {
  width: 100%;
}

.Goal--landscape .Goal-cell {
  width: calc((100% - var(--gutter, 0px) * 2) / 3);
}

.Goal--portrait .Goal-cell {
  width: calc((100% - var(--gutter, 0px)) / 2);
}

/**
 * Goal icon
 */

.Goal-icon {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  width: 116%;
  margin: 0 -8%;
  user-select: none;
  white-space: nowrap;
}

.Goal--landscape .Goal-icon,
.Goal--portrait .Goal-icon {
  margin: 0 0 0 -8%;
}

@media print {
  .Goal-icon,
  .Goal-number {
    color: black;
  }
}

/**
 * 1. Overwrite normalize svg rule
 */

.Goal-label {
  width: 100%;
  height: auto;
  min-height: 0;
  color: currentColor;
  font-family: var(--heading-font-family);
  line-height: var(--heading-line-height);
  word-spacing: var(--heading-word-spacing);
  font-weight: bold;
  text-transform: uppercase;
  white-space: nowrap;
  overflow: visible !important; /* 1 */
}

.Goal-glyph {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  justify-content: center;
  fill: currentColor;
  width: 80%;
  margin-left: 10%;
  margin-top: -4%;
}

/**
 * Content
 */

.Goal-content {
  display: flex;
  align-items: flex-start;
}

.Goal--portrait .Goal-content {
  flex-direction: column;
}

.Goal--landscape .Goal-content {
  align-items: flex-end;
  justify-content: space-between;
}

.Goal-description {
  padding-right: 2em;
}

.Goal--portrait .Goal-description {
  max-width: 19em;
}

.Goal--landscape .Goal-description {
  max-width: 24em;
}

@media (min-width: 1200px) {
  .Goal-description {
    font-size: 1.2rem;
  }
}

.Goal-button {
  display: inline-block;
  padding: 0.65em 1em 0.55em;
  margin-top: var(--space);
  color: transparent;
  font-size: 1.5rem;
  font-family: var(--heading-font-family);
  line-height: var(--heading-line-height);
  word-spacing: var(--heading-word-spacing);
  font-weight: bold;
  text-transform: uppercase;
  white-space: nowrap;
  background: #fff;
  text-shadow: 0 0 var(--current-background);
}

.Goal--1:hover .Goal-button { color: rgba(var(--color-goal-1-shaded), 0.13); }
.Goal--2:hover .Goal-button { color: rgba(var(--color-goal-2-shaded), 0.13); }
.Goal--3:hover .Goal-button { color: rgba(var(--color-goal-3-shaded), 0.13); }
.Goal--4:hover .Goal-button { color: rgba(var(--color-goal-4-shaded), 0.13); }
.Goal--5:hover .Goal-button { color: rgba(var(--color-goal-5-shaded), 0.13); }
.Goal--6:hover .Goal-button { color: rgba(var(--color-goal-6-shaded), 0.13); }
.Goal--7:hover .Goal-button { color: rgba(var(--color-goal-7-shaded), 0.13); }
.Goal--8:hover .Goal-button { color: rgba(var(--color-goal-8-shaded), 0.13); }
.Goal--9:hover .Goal-button { color: rgba(var(--color-goal-9-shaded), 0.13); }
.Goal--10:hover .Goal-button { color: rgba(var(--color-goal-10-shaded), 0.13); }
.Goal--11:hover .Goal-button { color: rgba(var(--color-goal-11-shaded), 0.13); }
.Goal--12:hover .Goal-button { color: rgba(var(--color-goal-12-shaded), 0.13); }
.Goal--13:hover .Goal-button { color: rgba(var(--color-goal-13-shaded), 0.13); }
.Goal--14:hover .Goal-button { color: rgba(var(--color-goal-14-shaded), 0.13); }
.Goal--15:hover .Goal-button { color: rgba(var(--color-goal-15-shaded), 0.13); }
.Goal--16:hover .Goal-button { color: rgba(var(--color-goal-16-shaded), 0.13); }
.Goal--17:hover .Goal-button { color: rgba(var(--color-goal-17-shaded), 0.13); }
